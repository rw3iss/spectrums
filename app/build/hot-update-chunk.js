webpackHotUpdate("app",{

/***/ "./src/components/views/Project/index.tsx":
/*!************************************************!*\
  !*** ./src/components/views/Project/index.tsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Project; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./style */ \"./src/components/views/Project/style.scss\");\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_style__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar DEFAULT_BASE_FREQ = 18; // hertz\nvar DEFAULT_NUM_STEPS = 120;\n/* How normal scales are created:\n     -take full length (pretermined bandwidth)\n     -keep diving by integers (1, 2, 3, etc...)\n     -notes are made by different combinations of these integer ratios\n */\nconst cl = window.cl;\nfunction sineWaveAt(audioContext, sampleNumber, tone) {\n    var sampleFreq = audioContext.sampleRate / tone;\n    return Math.sin(sampleNumber / (sampleFreq / (Math.PI * 2)));\n}\n// Play each note in the spectrum\nfunction playSound(audioContext, freq, length, volume) {\n    var arr = [], volume = volume, seconds = length, tone = freq;\n    for (var i = 0; i < audioContext.sampleRate * seconds; i++) {\n        arr[i] = sineWaveAt(audioContext, i, tone) * volume;\n    }\n    var buf = new Float32Array(arr.length);\n    for (var i = 0; i < arr.length; i++)\n        buf[i] = arr[i];\n    var buffer = audioContext.createBuffer(1, buf.length, audioContext.sampleRate);\n    buffer.copyToChannel(buf, 0);\n    var source = audioContext.createBufferSource();\n    source.buffer = buffer;\n    source.connect(audioContext.destination);\n    source.start(0);\n}\nclass Spectrum {\n    constructor(id) {\n        this.id = null;\n        this.id = id || 0;\n        this.name = '';\n        this.baseFreq = DEFAULT_BASE_FREQ;\n        this.minFreq = this.baseFreq; // lowest frequency that will be generated\n        this.maxFreq = 50000; //  highest frequency that will be generated\n        this.numSteps = DEFAULT_NUM_STEPS;\n        this.stepMultiply = 2; // double each next note\n        this.stepAdd = 0; // added to each note during the step sequence. The result will be used as the value for the next step.\n        this.shift = 0; // added to each note after the spectrum is generated\n        this.notes = []; // notes that will be generated for this spectrum\n        this.playLength = 1; // seconds\n        this.showDetails = false;\n    }\n}\nclass Project extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\n    constructor(props) {\n        super(props);\n        this.audioContext = undefined;\n        this.state = {\n            project: {\n                id: this.props.id || undefined,\n                spectrums: [],\n                scales: []\n            },\n            flashMessages: []\n        };\n        window.AudioContext = window.AudioContext || window.webkitAudioContext;\n        this.audioContext = new AudioContext();\n    }\n    componentDidMount() {\n        if (this.props.id) {\n            this.load(this.props.id);\n        }\n    }\n    load(id) {\n        if (!id)\n            id = this.props.id;\n        if (window.localStorage) {\n            let project;\n            let data = window.localStorage.getItem('project#' + id);\n            if (data) {\n                project = JSON.parse(data);\n            }\n            else {\n                return alert(\"Project \" + id + \" hasn't been saved.\");\n            }\n            cl(\"Loading...\", project);\n            this.setState({ project: project });\n        }\n        else {\n            alert(\"No local storage to load.\");\n        }\n        this.forceUpdate();\n    }\n    save() {\n        if (window.localStorage) {\n            window.localStorage.setItem('project#' + this.state.project.id, JSON.stringify(this.state.project));\n            cl(\"Save...\", window.localStorage.getItem('project#' + this.state.project.id));\n        }\n        else {\n            alert(\"No local storage to save.\");\n        }\n    }\n    onAddNewSpectrum(e) {\n        var s = new Spectrum(this.state.project.spectrums.length);\n        this.state.project.spectrums = [...this.state.project.spectrums, s];\n        this.forceUpdate();\n    }\n    onAddNewScale(e) {\n        var s = { id: this.state.project.scales.length, name: 'blah' };\n        this.state.project.scales = [...this.state.project.scales, s];\n        this.forceUpdate();\n    }\n    onOptionChange(s, e) {\n        var prop = e.target.name;\n        var value = e.target.value;\n        s[prop] = value;\n        this.generateSpectrum(s);\n        this.forceUpdate();\n    }\n    generateSpectrum(s) {\n        s.notes = [];\n        function _addNoteToSpectrum(s, freq) {\n            if (freq < parseFloat(s.minFreq)) {\n                freq *= 2;\n                return _addNoteToSpectrum(s, freq);\n            }\n            else if (freq > parseFloat(s.maxFreq)) {\n                freq *= .5;\n                return _addNoteToSpectrum(s, freq);\n            }\n            else {\n                // Only add if the frequency doesn't exist:\n                var existing = s.notes.filter((f) => {\n                    return f == freq;\n                });\n                if (!existing.length)\n                    s.notes.push(freq);\n            }\n        }\n        var currFreq = parseFloat(s.baseFreq);\n        _addNoteToSpectrum(s, currFreq);\n        for (var i = 0; i < s.numSteps; i++) {\n            //cl(\"generating note\", i, 'curr', currFreq, 'next', parseInt(currFreq) * parseInt(s.stepMultiply) + parseInt(s.stepAdd));\n            currFreq = parseFloat(currFreq) * parseFloat(s.stepMultiply) + parseFloat(s.stepAdd);\n            _addNoteToSpectrum(s, currFreq);\n        }\n        // shift each generated note\n        s.notes.forEach((item, i) => {\n            s.notes[i] = s.notes[i] + parseFloat(s.shift);\n        });\n        cl(\"Generated spectrum = \", s.notes.length + ' notes.');\n    }\n    playSpectrum(s) {\n        if (!s.notes.length) {\n            this.generateSpectrum(s);\n        }\n        var self = this;\n        var masterVolume = 1;\n        var soundLength = 1;\n        // plays all the notes\n        s.notes.forEach((note, i) => {\n            playSound(self.audioContext, note, s.playLength || soundLength, masterVolume);\n        });\n    }\n    toggleSpectrumDetails(s) {\n        if (!s.notes.length) {\n            this.generateSpectrum(s);\n        }\n        s.showDetails = (typeof s.showDetails != 'undefined' ? !s.showDetails : true);\n        this.forceUpdate();\n    }\n    _parseFrequency(f) {\n        return Math.round(f * 100) / 100;\n    }\n    onNoteClick(e, freq, i) {\n        cl(\"Click\", e.target, freq, i);\n        var range = document.createRange();\n        range.selectNode(e.target);\n        window.getSelection().addRange(range);\n        document.execCommand(\"copy\");\n        this.flashMessage('Copied ' + e.target.innerHTML);\n        playSound(this.audioContext, freq, 1, 1);\n    }\n    flashMessage(msg) {\n        var self = this;\n        var m = new Object();\n        m.message = msg;\n        this.state.flashMessages.push(m);\n        this.forceUpdate();\n        // Create closure to preserve state for the timeout\n        (function () {\n            var _m = m;\n            window.setTimeout(() => {\n                var msgs = self.state.flashMessages;\n                msgs.forEach((mm, i) => {\n                    cl(\"Message match?\", mm, _m);\n                    var match = _m === mm;\n                    if (match) {\n                        cl(\"MATCH\", i);\n                        msgs.splice(i, 1);\n                    }\n                });\n                self.setState({ flashMessages: msgs });\n            }, 3000);\n        })();\n    }\n    removeSpectrum(s) {\n        var project = this.state.project;\n        project.spectrums = this.state.project.spectrums.filter((_s, i) => _s !== s);\n        this.setState({\n            project: project\n        });\n    }\n    render() {\n        var self = this;\n        return (react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"view project\" },\n            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"header\" }, \"New Project\"),\n            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"messages\" },\n                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"h3\", null, \"Messages:\"),\n                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"ul\", { className: \"message-list\" }, self.state.flashMessages.map(function (m) {\n                    return (react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"li\", null, m.message));\n                }))),\n            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { id: \"spectrums\" },\n                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"heading\" },\n                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"btn btn-small\", onClick: () => { this.save.call(self); } }, \"Save\"),\n                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"btn btn-small\", onClick: () => { this.load.call(self); } }, \"Load\"),\n                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"h2\", null,\n                        \"Frequency spectrums: (\",\n                        self.state.project.spectrums.length,\n                        \")\"),\n                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"btn btn-small\", onClick: () => { this.onAddNewSpectrum.call(self); } }, \"+ Create New Spectrum\"),\n                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"sub\" }, \"Note: generated notes will be halved or doubled if they are outside the given spectrum rangee (ie. to an octave which fits within min/max frequency values)\")),\n                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"ul\", { className: \"spectrum-list\" }, self.state.project.spectrums.map(function (s) {\n                    return (react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"li\", { key: s.id },\n                        react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"options\" },\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"field name\" },\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"label\", null, \"Name:\"),\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"input\" },\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"input\", { type: \"text\", name: \"name\", value: s.name, onChange: (e) => { self.onOptionChange(s, e); } }))),\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"field\" },\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"label\", null, \"Base frequency:\"),\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"input\" },\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"input\", { type: \"text\", name: \"baseFreq\", value: s.baseFreq, onChange: (e) => { self.onOptionChange(s, e); } }))),\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"field\" },\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"label\", null, \"Min. frequency:\"),\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"input\" },\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"input\", { type: \"text\", name: \"minFreq\", value: s.minFreq, onChange: (e) => { self.onOptionChange(s, e); } }))),\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"field\" },\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"label\", null, \"Max. frequency:\"),\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"input\" },\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"input\", { type: \"text\", name: \"maxFreq\", value: s.maxFreq, onChange: (e) => { self.onOptionChange(s, e); } }))),\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"field\" },\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"label\", null, \"# Steps:\"),\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"input\" },\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"input\", { type: \"text\", name: \"numSteps\", value: s.numSteps, onChange: (e) => { self.onOptionChange(s, e); } }))),\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"field\" },\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"label\", null, \"Step multiplier:\"),\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"input\" },\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"input\", { type: \"text\", name: \"stepMultiply\", value: s.stepMultiply, onChange: (e) => { self.onOptionChange(s, e); } }))),\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"field\" },\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"label\", null, \"Step add:\"),\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"input\" },\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"input\", { type: \"text\", name: \"stepAdd\", value: s.stepAdd, onChange: (e) => { self.onOptionChange(s, e); } }))),\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"field\" },\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"label\", null, \"Shift:\"),\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"input\" },\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"input\", { type: \"text\", name: \"shift\", value: s.shift, onChange: (e) => { self.onOptionChange(s, e); } }))),\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"field\" },\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"label\", null, \"Play length:\"),\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"input\" },\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"input\", { type: \"text\", name: \"playLength\", value: s.playLength, onChange: (e) => { self.onOptionChange(s, e); } }))),\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"field actions\" },\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"input\" },\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"btn btn-small\", onClick: (e) => { self.playSpectrum.call(self, s); } }, \"Play\")),\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"input\" },\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"btn btn-small\", onClick: (e) => { self.toggleSpectrumDetails.call(self, s); } }, \"See\")),\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"input\" },\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"btn btn-small\", onClick: (e) => { self.removeSpectrum.call(self, s); } }, \"Remove\")))),\n                        s.showDetails &&\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"details\" },\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"ul\", { className: \"notes\" }, s.notes.map(function (freq, i) {\n                                    return (react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"li\", { className: \"note\", onClick: (e) => { self.onNoteClick.call(self, e, freq, i); } },\n                                        react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"span\", { className: \"index\" }, i + 1),\n                                        react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"span\", { className: \"frequency\" }, self._parseFrequency(freq))));\n                                })))));\n                }))),\n            false && react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"col\" },\n                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"h2\", null, \"Scales:\"),\n                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: \"btn btn-small\", onClick: () => { this.onAddNewScale.call(self); } }, \"+ Create New Scale\"),\n                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"ul\", { className: \"scale-list\" }, self.state.project.scales.map(function (s) {\n                    return (react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"li\", { key: s.id },\n                        react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", null, s.name)));\n                })))));\n    }\n}\n\n\n//# sourceURL=webpack:///./src/components/views/Project/index.tsx?");

/***/ }),

/***/ "./src/config/Routes.tsx":
/*!*******************************!*\
  !*** ./src/config/Routes.tsx ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ \"../node_modules/react-router-dom/es/index.js\");\n/* harmony import */ var utils_Auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! utils/Auth */ \"./src/utils/Auth.ts\");\n/* harmony import */ var components_views_About__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/views/About */ \"./src/components/views/About/index.tsx\");\n/* harmony import */ var components_views_Dashboard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/views/Dashboard */ \"./src/components/views/Dashboard/index.tsx\");\n/* harmony import */ var components_views_Project__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/views/Project */ \"./src/components/views/Project/index.tsx\");\n/* harmony import */ var components_views_PageNotFound__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/views/PageNotFound */ \"./src/components/views/PageNotFound/index.tsx\");\n\n\n\n\n\n\n\nfunction Routes() {\n    return (react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Switch\"], null,\n        react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], { exact: true, path: '/', component: components_views_Dashboard__WEBPACK_IMPORTED_MODULE_4__[\"default\"] }, utils_Auth__WEBPACK_IMPORTED_MODULE_2__[\"default\"].loggedIn() &&\n            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Redirect\"], { to: { pathname: '/dash' } })),\n        react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], { path: '/about', component: components_views_About__WEBPACK_IMPORTED_MODULE_3__[\"default\"] }),\n        react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], { path: '/dash', component: components_views_Dashboard__WEBPACK_IMPORTED_MODULE_4__[\"default\"] }),\n        react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], { path: '/project/:id', component: components_views_Project__WEBPACK_IMPORTED_MODULE_5__[\"default\"] }),\n        react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], { path: '/', component: components_views_Dashboard__WEBPACK_IMPORTED_MODULE_4__[\"default\"] }),\n        react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], { component: components_views_PageNotFound__WEBPACK_IMPORTED_MODULE_6__[\"default\"] })));\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Routes);\n\n\n//# sourceURL=webpack:///./src/config/Routes.tsx?");

/***/ })

})